/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/alerts-list.js":
/*!*******************************!*\
  !*** ./src/js/alerts-list.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings */ \"./src/js/settings.js\");\n/* harmony import */ var _modules_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/helpers */ \"./src/js/modules/helpers.js\");\n/* harmony import */ var _modules_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/events */ \"./src/js/modules/events.js\");\n/* harmony import */ var _modules_single_alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/single-alert */ \"./src/js/modules/single-alert.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n/**\n * alerts-list.js\n *\n * This file controls the main list of alerts/advisories. The data is pulled locally or\n * remotely, based on the IS_REMOTE variable in settings.js.\n *\n * To change the local data, add the json file to dist/static/json and update the setting\n * in settings.js\n *\n */\n\n\n\n\n\nif (document.readyState !== \"loading\") {\n  createAlerts();\n} else {\n  window.addEventListener(\"DOMContentLoaded\", createAlerts);\n}\n\n/**\n * Init Function\n */\nfunction createAlerts() {\n  console.log(\"create alerts fxn start\");\n  var allAlerts = document.getElementById(\"kcalert-accordion\");\n\n  // set fetch URLs\n  var ALERT_URL = _settings__WEBPACK_IMPORTED_MODULE_0__.IS_REMOTE ? _settings__WEBPACK_IMPORTED_MODULE_0__.REMOTE_ALERTS_API : _settings__WEBPACK_IMPORTED_MODULE_0__.LOCAL_ALERTS_DATA;\n  var ROUTE_URL = _settings__WEBPACK_IMPORTED_MODULE_0__.IS_REMOTE ? _settings__WEBPACK_IMPORTED_MODULE_0__.REMOTE_ROUTES_API : _settings__WEBPACK_IMPORTED_MODULE_0__.LOCAL_ROUTES_DATA;\n\n  // fetch data\n  Promise.all([fetch(ALERT_URL).then(function (res) {\n    return res.json();\n  }), fetch(ROUTE_URL).then(function (res) {\n    return res.json();\n  })]).then(function (res) {\n    // process data\n    var alerts = processAlerts(res[0].alerts); // array of objs that hold the alert and pertinent routes\n    var routes = (0,_modules_helpers__WEBPACK_IMPORTED_MODULE_1__.organizeRoutes)(res[1].mode[1].route); // array of all available routes\n    var allData = (0,_modules_helpers__WEBPACK_IMPORTED_MODULE_1__.cleanup)(processData(alerts, routes));\n\n    // build accordion\n    var accordion = new DocumentFragment();\n    allData.forEach(function (route, idx) {\n      accordion.append(createRoutePanel(route, idx));\n    });\n    allAlerts.append(accordion);\n\n    // attach event handlers\n    setupListEvents(allAlerts);\n  })[\"catch\"](function (err) {\n    console.log(\"error with create fxn\");\n  });\n}\n\n/* Process API Data / Backend\n ******************************************************* */\n/**\n * Organizes the alert data by route and alert type count\n *\n * @param {Array} alertArr array of alert objects with alert and array of route_id\n * @param {Array} routeArr array of route objects with route_id and route_name properties\n */\nfunction processData(alertArr, routeArr) {\n  var routes = routeArr;\n  alertArr.forEach(function (data) {\n    data.route_ids.forEach(function (routeID) {\n      routes.forEach(function (route) {\n        if (routeID === route.route_id) {\n          // append alert\n          if (route.alerts) {\n            route.alerts = [].concat(_toConsumableArray(route.alerts), [data.alert]);\n          } else {\n            route.alerts = [];\n            route.alerts[0] = data.alert;\n          }\n\n          // increment alert type\n          route.status = (0,_modules_helpers__WEBPACK_IMPORTED_MODULE_1__.incrementStatusType)(data.status, route.status);\n        }\n      });\n    });\n  });\n  return routeArr;\n}\n\n/**\n * Process all alerts\n *\n * @param {Array} alerts\n * @returns an array of objects that contain an alert and its unique routes\n */\nfunction processAlerts(alerts) {\n  var result = [];\n\n  // loop through all alerts and create an array of routes that have alerts\n  alerts.forEach(function (alert) {\n    var routes = (0,_modules_helpers__WEBPACK_IMPORTED_MODULE_1__.uniqueRoutes)(alert.affected_services.services, \"alert\");\n    result.push({\n      route_ids: routes,\n      alert: alert,\n      status: alert.alert_lifecycle\n    });\n  });\n  return result;\n}\n\n/* Build Front End\n ******************************************************* */\n\n/**\n * Builds route panel with alerts\n *\n * @param {object} route\n * @param {Int} id\n * @returns route element with alerts\n */\nfunction createRoutePanel(route, id) {\n  // create parent fragment\n  var routePanel = new DocumentFragment();\n  var routeName = (0,_modules_helpers__WEBPACK_IMPORTED_MODULE_1__.routeLabel)(route.route_name);\n\n  // create panel elements\n  var header = document.createElement(\"div\");\n  header.id = route.route_id;\n\n  // set status class for filtering\n  var ongoingClass = route.status.ongoing ? \"ongoing\" : \"\";\n  var upcomingClass = route.status.upcoming ? \"upcoming\" : \"\";\n  header.setAttribute(\"class\", \"toggle advisory-block \".concat(ongoingClass, \" \").concat(upcomingClass));\n  header.setAttribute(\"data-route\", routeName);\n\n  // create toggle for accordion as button header\n  var button = document.createElement(\"input\");\n  button.setAttribute(\"id\", \"toggle-advisory-\".concat(route.route_id));\n  button.setAttribute(\"type\", \"checkbox\");\n  button.setAttribute(\"name\", \"toggle-advisory-\".concat(route.route_id));\n  button.setAttribute(\"aria-hidden\", \"true\");\n  var label = document.createElement(\"label\");\n  label.setAttribute(\"class\", \"toggle-head advisory-block-title with-description\");\n  label.setAttribute(\"for\", \"toggle-advisory-\".concat(route.route_id));\n\n  // route name\n  var title = document.createElement(\"h2\");\n  title.setAttribute(\"class\", \"accordion-title\");\n  title.textContent = routeName;\n\n  // status flag icon container\n  var alertStatus = document.createElement(\"div\");\n  alertStatus.setAttribute(\"class\", \"route-status\");\n  alertStatus.setAttribute(\"aria-hidden\", \"true\");\n\n  // create status flags and add to container\n  var ongoing, upcoming;\n  if (route.status.ongoing > 0) ongoing = (0,_modules_helpers__WEBPACK_IMPORTED_MODULE_1__.createStatusFlag)(\"ongoing\", route.status.ongoing);\n  if (route.status.upcoming > 0) upcoming = (0,_modules_helpers__WEBPACK_IMPORTED_MODULE_1__.createStatusFlag)(\"upcoming\", route.status.upcoming);\n  alertStatus.append(ongoing || \"\", upcoming || \"\");\n\n  // add elements to route header section\n  label.append(title, alertStatus);\n  header.append(button, label);\n\n  // create alert container\n  var alertBody = document.createElement(\"div\");\n  alertBody.setAttribute(\"class\", \"toggle-inner\");\n\n  // append alerts to alert container\n  route.alerts.forEach(function (alert, idx) {\n    alertBody.append((0,_modules_single_alert__WEBPACK_IMPORTED_MODULE_3__.generateSingleAlert)(alert));\n  });\n  header.append(alertBody);\n  routePanel.append(header);\n  return routePanel;\n}\n\n/**\n * Sets up all event listeners\n *\n * @param {HTMLElement} element to watch\n */\nfunction setupListEvents(element) {\n  // reset to default view\n  var reset = document.getElementById(\"reset\");\n  reset.addEventListener(\"click\", function () {\n    return (0,_modules_events__WEBPACK_IMPORTED_MODULE_2__.showAlerts)();\n  });\n\n  // show only ongoing alerts\n  var ongoingAlertsBttn = document.getElementById(\"ongoing-filter\");\n  ongoingAlertsBttn.addEventListener(\"click\", function () {\n    return (0,_modules_events__WEBPACK_IMPORTED_MODULE_2__.showAlerts)(\"ongoing\", \"upcoming\");\n  });\n\n  // show only upcoming alerts\n  var upcomingAlertsBttn = document.getElementById(\"upcoming-filter\");\n  upcomingAlertsBttn.addEventListener(\"click\", function () {\n    return (0,_modules_events__WEBPACK_IMPORTED_MODULE_2__.showAlerts)(\"upcoming\", \"ongoing\");\n  });\n\n  // search input\n  var searchInput = document.getElementById(\"route-search\");\n  searchInput.addEventListener(\"keyup\", function () {\n    return (0,_modules_events__WEBPACK_IMPORTED_MODULE_2__.searchRoutes)(true);\n  });\n\n  // clear search\n  var clearInput = document.getElementById(\"clear-search\");\n  clearInput.addEventListener(\"click\", _modules_events__WEBPACK_IMPORTED_MODULE_2__.clearSearch);\n\n  // notify user if no results\n  (0,_modules_events__WEBPACK_IMPORTED_MODULE_2__.notifyNoResults)(element);\n}\n\n//# sourceURL=webpack://kcalerts-restapi/./src/js/alerts-list.js?");

/***/ }),

/***/ "./src/js/modules/events.js":
/*!**********************************!*\
  !*** ./src/js/modules/events.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clearButtons\": () => (/* binding */ clearButtons),\n/* harmony export */   \"clearSearch\": () => (/* binding */ clearSearch),\n/* harmony export */   \"notifyNoResults\": () => (/* binding */ notifyNoResults),\n/* harmony export */   \"searchRoutes\": () => (/* binding */ searchRoutes),\n/* harmony export */   \"showAlerts\": () => (/* binding */ showAlerts),\n/* harmony export */   \"toggleDetails\": () => (/* binding */ toggleDetails)\n/* harmony export */ });\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n/* Event Handlers\n ******************************************************* */\n/**\n * Remove ongoing styling from filter buttons\n *\n */\nfunction clearButtons() {\n  var bttns = document.getElementsByClassName(\"tab-btn\");\n  var _iterator = _createForOfIteratorHelper(bttns),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var bttn = _step.value;\n      bttn.removeAttribute(\"class\", \"selected\");\n      bttn.setAttribute(\"class\", \"tab-btn\");\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\n/**\n * Change the type of alerts in the view\n *\n * @param {String} show alert type to show\n * @param {String} hide alert type to hide\n */\nfunction showAlerts() {\n  var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var hide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var accordion = document.getElementById(\"kcalert-accordion\");\n\n  // change accordion view\n  if (show === \"\") {\n    accordion.removeAttribute(\"class\", \"ongoing upcoming\");\n  } else {\n    accordion.removeAttribute(\"class\", hide);\n  }\n  accordion.setAttribute(\"class\", \"accordion accordion-flush \".concat(show));\n\n  // update buttons\n  clearButtons();\n  var bttn;\n  if (show === \"\") {\n    bttn = document.getElementById(\"reset\");\n  } else {\n    bttn = document.getElementById(\"\".concat(show, \"-filter\"));\n  }\n  bttn.setAttribute(\"class\", \"tab-btn selected\");\n}\nfunction toggleDetails(e) {\n  // const desc = e.target.parentElement.nextSibling;\n  var desc = e.target.nextSibling;\n  if (desc.style.display === \"none\") {\n    desc.style.display = \"block\";\n  } else {\n    desc.style.display = \"none\";\n  }\n  if (e.target.textContent === \"View details\") {\n    e.target.textContent = \"Hide details\";\n  } else {\n    e.target.textContent = \"View details\";\n  }\n}\nfunction notifyNoResults(element) {\n  var resize_ob = new ResizeObserver(function (entries) {\n    // since we are observing only a single element, so we access the first element in entries array\n    var rect = entries[0].contentRect;\n    var errorMsg = document.getElementById(\"no-alerts-msg\");\n    if (rect.height === 0) {\n      errorMsg.setAttribute(\"style\", \"display: block;\");\n      element.setAttribute(\"style\", \"border-color: transparent;\");\n    } else {\n      errorMsg.setAttribute(\"style\", \"display: none;\");\n      element.setAttribute(\"style\", \"border-color: #eee;\");\n    }\n  });\n\n  // start observing for resize\n  resize_ob.observe(element);\n}\n\n/**\n * Hides routes that do not include search input\n *\n */\nfunction searchRoutes() {\n  var showClear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  if (showClear) {\n    var clearBttn = document.getElementById(\"clear-search\");\n    clearBttn.setAttribute(\"style\", \"visibility: visible;\");\n  }\n\n  // get the search value\n  var input = document.getElementById(\"route-search\").value.toLowerCase();\n\n  // filter routes\n  var routes = document.getElementsByClassName(\"advisory-block\");\n  var _iterator2 = _createForOfIteratorHelper(routes),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var route = _step2.value;\n      var routeName = route.getAttribute(\"data-route\").toLowerCase();\n      if (!routeName.includes(input)) {\n        route.setAttribute(\"style\", \"display:none;\");\n      } else {\n        route.setAttribute(\"style\", \"display:block;\");\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\nfunction clearSearch() {\n  var clearBttn = document.getElementById(\"clear-search\");\n  clearBttn.setAttribute(\"style\", \"visibility: hidden;\");\n  var searchInput = document.getElementById(\"route-search\");\n  searchInput.value = \"\";\n  searchRoutes(false);\n}\n\n\n//# sourceURL=webpack://kcalerts-restapi/./src/js/modules/events.js?");

/***/ }),

/***/ "./src/js/modules/helpers.js":
/*!***********************************!*\
  !*** ./src/js/modules/helpers.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"accessibleText\": () => (/* binding */ accessibleText),\n/* harmony export */   \"cleanup\": () => (/* binding */ cleanup),\n/* harmony export */   \"convertEpoch\": () => (/* binding */ convertEpoch),\n/* harmony export */   \"countAlertTypes\": () => (/* binding */ countAlertTypes),\n/* harmony export */   \"createStatusFlag\": () => (/* binding */ createStatusFlag),\n/* harmony export */   \"expandType\": () => (/* binding */ expandType),\n/* harmony export */   \"icon\": () => (/* binding */ icon),\n/* harmony export */   \"incrementStatusType\": () => (/* binding */ incrementStatusType),\n/* harmony export */   \"isDART\": () => (/* binding */ isDART),\n/* harmony export */   \"isST\": () => (/* binding */ isST),\n/* harmony export */   \"organizeRoutes\": () => (/* binding */ organizeRoutes),\n/* harmony export */   \"printDates\": () => (/* binding */ printDates),\n/* harmony export */   \"processAlertDates\": () => (/* binding */ processAlertDates),\n/* harmony export */   \"routeLabel\": () => (/* binding */ routeLabel),\n/* harmony export */   \"statusText\": () => (/* binding */ statusText),\n/* harmony export */   \"uniqueRoutes\": () => (/* binding */ uniqueRoutes)\n/* harmony export */ });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n/* Helper Functions\n ******************************************************* */\n\n/**\n * Outputs array of effective dates to human readable string\n *\n * @param {Array} dates Effective dates for the alert\n * @returns String\n */\nfunction printDates(dates) {\n  var str = \"Effective Dates: \";\n  for (var i = 0; i < dates.length; i++) {\n    if (i === dates.length - 1) {\n      str += \"and \".concat(processAlertDates(dates[i].effect_start, dates[i].effect_end));\n    } else {\n      str += \"\".concat(processAlertDates(dates[i].effect_start, dates[i].effect_end), \", \");\n    }\n  }\n  return str;\n}\n\n/**\n * Removes routes without ongoing alerts\n *\n * @param {Array} routes an array of routes with route_id, route_name, and alerts properties\n * @returns array of routes with ongoing alerts\n */\nfunction cleanup(routes) {\n  return routes.filter(function (route) {\n    return route.alerts;\n  });\n}\n\n/**\n * Filter array of routes so that only unique routes are listed\n *\n * @param {obj} alert\n * @returns array of routes to append this alert to\n */\nfunction uniqueRoutes(routes, type) {\n  if (type === \"alert\") {\n    return _toConsumableArray(new Set(routes.map(function (route) {\n      return route.route_id;\n    })));\n  } else if (type === \"route\") {\n    return _toConsumableArray(new Set(routes.map(function (route) {\n      return route;\n    })));\n  } else {\n    return [];\n  }\n}\n\n/**\n * Generates text for alert effective dates\n *\n * @param {Int} start\n * @param {Int} end\n * @returns String describing effective dates\n */\nfunction processAlertDates(startDate, endDate) {\n  var today = Math.round(new Date().getTime() / 1000);\n  var start = convertEpoch(startDate);\n  var end = convertEpoch(endDate);\n  if (start === end) {\n    // if start and end dates are the same, return one value\n    return start;\n  } else if (endDate < today) {\n    // if end date is out of range, swap end value for until further notice\n    return \"\".concat(start, \" until further notice\");\n  } else {\n    // else return date range\n    return \"\".concat(start, \" to \").concat(end);\n  }\n}\n\n/**\n * Generates string to call material icon that corresponds to alert type\n *\n * @param {String} effectName\n * @returns String that represents Material Icon\n */\nfunction icon(effectName) {\n  var text;\n  switch (effectName) {\n    case \"Trip Cancelation\":\n    case \"Suspension\":\n      text = \"error\";\n      break;\n    case \"Trip Restoration\":\n      text = \"task_alt\";\n      break;\n    case \"Stop Closure\":\n      text = \"dangerous\";\n      break;\n    case \"Multi-route Reroute\":\n    case \"Single Route Reroute\":\n      text = \"alt_route\";\n      break;\n    case \"Delay of Service\":\n      text = \"timer\";\n      break;\n    case \"Emergency Snow Network\":\n    case \"Snow Routes\":\n    case \"Snow Route\":\n      text = \"ac_unit\";\n      break;\n    default:\n      text = \"warning\";\n  }\n  return text;\n}\n\n/**\n * Replaces text in description that is difficult to parse for screen readers\n *\n * @param {String} desc\n * @returns expanded version of description\n */\nfunction accessibleText(desc) {\n  // if null, return\n  if (desc === \"\") return \"\";\n\n  // expand directionals\n  var res = \"\";\n  res = desc.replaceAll(/NB/g, \"Northbound\");\n  res = res.replaceAll(/SB/g, \"Southbound\");\n  res = res.replaceAll(/EB/g, \"Eastbound\");\n  res = res.replaceAll(/WB/g, \"Westbound\");\n\n  // expand streets\n  res = res.replaceAll(/ Ave?\\b/gm, \" Avenue\");\n  res = res.replaceAll(/ St\\b/gm, \" Street\");\n  res = res.replaceAll(/ Pl\\b/gm, \" Place\");\n  res = res.replaceAll(/ Rd\\b/gm, \" Road\");\n  res = res.replaceAll(/ Pkwy\\b/gm, \" Parkway\");\n  res = res.replaceAll(/ Blvd\\b/gm, \" Boulevard\");\n  res = res.replaceAll(/ Lk\\b/gm, \" Lake\");\n  res = res.replaceAll(/ Samm\\b/gm, \" Sammamish\");\n  return res;\n}\n\n/**\n * Expands alert type text for improved accessibility\n *\n * @param {String} type\n * @returns expanded version of alert type\n */\nfunction expandType(type) {\n  var res = \"\";\n  res = type.replaceAll(/ESN\\b/gm, \" Emergency Snow Network\");\n  return res;\n}\n\n/**\n * Generates text for status flag and alert classes\n *\n * @param {String} status\n * @returns String to display in status flag and classnames\n */\nfunction statusText(status) {\n  if (status === \"New\" || status.includes(\"Ongoing\")) return \"ongoing\";\n  return \"upcoming\";\n}\n\n/**\n * Transforms epoch date to local date\n *\n * @param {Int} epochts\n * @returns human readable string for date\n */\nfunction convertEpoch(epochts) {\n  // return new Date(epochts * 1000).toDateString();\n  return new Date(epochts * 1000).toLocaleDateString();\n}\n\n/**\n * Adjusts the route title based on route number\n *\n * @param {String} route\n * @returns String describing route type\n */\nfunction routeLabel(route) {\n  if (route === \"Duvall-Monroe Shuttle\") return route;\n  if (route.charAt(0).match(/[a-z]/i)) return \"RapidRide \".concat(route);\n  if (isST(route)) return \"ST \".concat(route);\n  if (isDART(route)) return \"DART \".concat(route);\n  return \"Route \".concat(route);\n}\n\n/**\n * Determines if a given route is DART\n *\n * @param {String} route\n * @returns boolean\n */\nfunction isDART(route) {\n  var routeNum = parseInt(route);\n  if (routeNum === 204 || routeNum === 224 || routeNum === 630 || routeNum === 631 || routeNum >= 901 && routeNum <= 930) {\n    return true;\n  }\n  return false;\n}\n/**\n * Determines if a given route operates under Sound Transit Express\n *\n * @param {String} route\n * @returns boolean\n */\nfunction isST(route) {\n  var routeNum = parseInt(route);\n  if (routeNum >= 500 && routeNum < 600) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Removes shuttle route and places it at the end of the array\n *\n * @param {Array} routes\n * @returns Array of routes in correct order\n */\nfunction organizeRoutes(routes) {\n  var shuttleRte = \"\";\n  var routeArr = [];\n  routes.forEach(function (route) {\n    if (route.route_id === \"102698\") {\n      shuttleRte = route;\n    } else {\n      routeArr.push(route);\n    }\n  });\n  return [].concat(routeArr, [shuttleRte]);\n}\nfunction countAlertTypes(data) {\n  var ongoing = 0;\n  var upcoming = 0;\n  data.forEach(function (route) {\n    route.alerts.forEach(function (alert) {\n      if (alert.alert_lifecycle === \"Upcoming\") {\n        upcoming++;\n      } else {\n        ongoing++;\n      }\n    });\n  });\n  return {\n    ongoing: ongoing,\n    upcoming: upcoming\n  };\n}\n\n/**\n * Increments alert status\n *\n * @param {String} alertStatus\n * @param {Object} routeStatus\n * @returns Object that holds status of alerts for the route\n */\nfunction incrementStatusType(alertStatus) {\n  var routeStatus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    ongoing: 0,\n    upcoming: 0\n  };\n  var res = routeStatus;\n  if (alertStatus.includes(\"Ongoing\") || alertStatus === \"New\") {\n    res.ongoing = res.ongoing + 1;\n  } else {\n    res.upcoming = res.upcoming + 1;\n  }\n  return res;\n}\n\n/**\n * Creates status flag\n *\n * @param {String} type\n * @param {String} text\n * @returns\n */\nfunction createStatusFlag(type, text) {\n  var flag = document.createElement(\"span\");\n  flag.setAttribute(\"class\", type);\n  flag.textContent = text;\n  return flag;\n}\n\n\n//# sourceURL=webpack://kcalerts-restapi/./src/js/modules/helpers.js?");

/***/ }),

/***/ "./src/js/modules/single-alert.js":
/*!****************************************!*\
  !*** ./src/js/modules/single-alert.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"generateSingleAlert\": () => (/* binding */ generateSingleAlert)\n/* harmony export */ });\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers */ \"./src/js/modules/helpers.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ \"./src/js/modules/events.js\");\n\n\nfunction generateSingleAlert(alert) {\n  // alert panel\n  var alertPanel = document.createElement(\"div\");\n  alertPanel.setAttribute(\"class\", \"advisory-content \".concat((0,_helpers__WEBPACK_IMPORTED_MODULE_0__.icon)(alert.effect_name)));\n\n  // alert type\n  var type = document.createElement(\"h4\");\n  type.setAttribute(\"class\", \"advisory-type\");\n  type.textContent = alert.effect_name;\n\n  // alert flag\n  var flag = document.createElement(\"span\");\n  flag.setAttribute(\"class\", \"advisory-status \".concat((0,_helpers__WEBPACK_IMPORTED_MODULE_0__.statusText)(alert.alert_lifecycle)));\n  flag.textContent = (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.statusText)(alert.alert_lifecycle);\n  type.append(flag);\n\n  // alert title\n  var title = document.createElement(\"p\");\n  title.setAttribute(\"class\", \"advisory-title\");\n  title.textContent = (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.accessibleText)(alert.header_text);\n\n  // conditionally add description\n  var alertDescription = \"\";\n  if (alert.description_text) {\n    alertDescription = document.createElement(\"p\");\n    alertDescription.textContent = (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.accessibleText)(alert.description_text);\n    alertDescription.setAttribute(\"class\", \"alert-description\");\n    alertDescription.setAttribute(\"style\", \"display:none;\");\n  }\n\n  // more details button\n  var expandLink = \"\";\n  if (alert.description_text) {\n    expandLink = document.createElement(\"a\");\n    expandLink.setAttribute(\"class\", \"expand-link\");\n    expandLink.addEventListener(\"click\", _events__WEBPACK_IMPORTED_MODULE_1__.toggleDetails);\n    expandLink.textContent = \"View details\";\n  }\n\n  // cause\n  var alertCause = \"\";\n  if (alert.cause_name) {\n    alertCause = document.createElement(\"p\");\n    alertCause.textContent = \"Cause: \".concat(alert.cause_name);\n    alertCause.setAttribute(\"class\", \"cause\");\n  }\n\n  // alert dates\n  var dates = document.createElement(\"p\");\n  dates.setAttribute(\"class\", \"advisory-dates\");\n  // if more than one effective date range\n  if (alert.effect_periods.length > 1) {\n    dates.textContent = (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.printDates)(alert.effect_periods);\n    // else if only one effective date range\n  } else if (alert.effect_periods.length === 1) {\n    dates.textContent = \"Effective Dates: \".concat((0,_helpers__WEBPACK_IMPORTED_MODULE_0__.processAlertDates)(alert.effect_periods[0].effect_start, alert.effect_periods[0].effect_end));\n  }\n  var footer = document.createElement(\"p\");\n  footer.setAttribute(\"class\", \"alert-footer\");\n  footer.textContent = \"Alert ID: \".concat(alert.alert_id, \", Last Updated: \").concat((0,_helpers__WEBPACK_IMPORTED_MODULE_0__.processAlertDates)(alert.last_modified_dt, alert.last_modified_dt));\n  alertPanel.append(type, title, expandLink, alertDescription, alertCause, dates, footer);\n  return alertPanel;\n}\n\n//# sourceURL=webpack://kcalerts-restapi/./src/js/modules/single-alert.js?");

/***/ }),

/***/ "./src/js/settings.js":
/*!****************************!*\
  !*** ./src/js/settings.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"API_KEY\": () => (/* binding */ API_KEY),\n/* harmony export */   \"BASE_URL\": () => (/* binding */ BASE_URL),\n/* harmony export */   \"IS_REMOTE\": () => (/* binding */ IS_REMOTE),\n/* harmony export */   \"LOCAL_ALERTS_DATA\": () => (/* binding */ LOCAL_ALERTS_DATA),\n/* harmony export */   \"LOCAL_ROUTES_DATA\": () => (/* binding */ LOCAL_ROUTES_DATA),\n/* harmony export */   \"LOCAL_ROUTE_DATA\": () => (/* binding */ LOCAL_ROUTE_DATA),\n/* harmony export */   \"REMOTE_ALERTS_API\": () => (/* binding */ REMOTE_ALERTS_API),\n/* harmony export */   \"REMOTE_ROUTES_API\": () => (/* binding */ REMOTE_ROUTES_API),\n/* harmony export */   \"REMOTE_SINGLE_ALERT_API\": () => (/* binding */ REMOTE_SINGLE_ALERT_API),\n/* harmony export */   \"ROUTE\": () => (/* binding */ ROUTE)\n/* harmony export */ });\n/**\n * General Settings for API and data fetching\n */\n\nvar IS_REMOTE = true;\nvar BASE_URL = \"https://kcm-api.ibi-transit.com/developer/api/v2\";\nvar API_KEY = \"3QxRRLWBsUAZbfT62GEB2Q\";\n\n/**\n * Local Files - these will be used if IS_REMOTE is set to true\n *\n */\n\nvar LOCAL_ALERTS_DATA = \"../static/json/alerts20221207.json\";\nvar LOCAL_ROUTES_DATA = \"../static/json/routes.json\";\n\n// Specific Route Alerts - use only one and comment out the rest\n// const ROUTE = '007';    // single\n// const ROUTE = '271';     // single\nvar ROUTE = \"007-271\"; // multiple\nvar LOCAL_ROUTE_DATA = \"../static/json/route/\".concat(ROUTE, \".json\");\n\n/**\n * API Endpoints - these will be used if IS_REMOTE is set to false\n *\n * Example API calls\n * TEST: https://kcm-api.ibi-test.com/developer/api/v2/alerts?api_key=gvMjFrABizrQwye9KBD3KB&format=json\n * PROD: https://kcm-api.ibi-transit.com/developer/api/v2/alerts?api_key=3QxRRLWBsUAZbfT62GEB2Q&format=json\n */\n\nvar REMOTE_ROUTES_API = \"\".concat(BASE_URL, \"/routes?api_key=\").concat(API_KEY, \"&format=json\");\nvar REMOTE_ALERTS_API = \"\".concat(BASE_URL, \"/alerts?api_key=\").concat(API_KEY, \"&format=json\");\nvar REMOTE_SINGLE_ALERT_API = \"\".concat(BASE_URL, \"/alertsbyroute?api_key=\").concat(API_KEY, \"&route=\");\n\n\n//# sourceURL=webpack://kcalerts-restapi/./src/js/settings.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/alerts-list.js");
/******/ 	
/******/ })()
;